# 🗄️ SET UP YOUR SUPABASE DATABASE NOW

## ✅ **Your Supabase Project Ready:**
- **URL**: https://jrxepdlkgdwwjxdeetmb.supabase.co
- **Project**: jrxepdlkgdwwjxdeetmb
- **Credentials**: ✅ Available

## 🚀 **DEPLOY DATABASE (2 minutes):**

### **Method 1: Supabase Dashboard (Recommended)**
1. **Go to**: https://supabase.com/project/jrxepdlkgdwwjxdeetmb/sql
2. **Copy contents** of `manual_db_setup.sql` file
3. **Paste into SQL Editor**
4. **Click "Run"**
5. ✅ **Done!** - All tables, views, RLS, and sample data created

### **Method 2: Supabase CLI (Advanced)**
```bash
# Install Supabase CLI
npm install -g supabase

# Link to your project
supabase link --project-ref jrxepdlkgdwwjxdeetmb

# Push all migrations
supabase db push
```

## ⚙️ **VERCEL ENVIRONMENT VARIABLES:**

In Vercel Dashboard → Settings → Environment Variables, add these **exact values**:

```bash
NEXT_PUBLIC_SUPABASE_URL=https://jrxepdlkgdwwjxdeetmb.supabase.co

NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpyeGVwZGxrZ2R3d2p4ZGVldG1iIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk3ODE5NzksImV4cCI6MjA2NTM1Nzk3OX0.wRUoPraEzQRI0LtxxcUIYCH8I49L8T4MAKoKbv_5fr8

SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpyeGVwZGxrZ2R3d2p4ZGVldG1iIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc0OTc4MTk3OSwiZXhwIjoyMDY1MzU3OTc5fQ.CaylOjytzlPkkL3KsZK6pCK5eJxx3BrqVr0cbzK90Jc
```

## 📊 **WHAT GETS CREATED:**

### **Core Tables (12)**
✅ `brands` - Product brands (Coca-Cola, Pepsi, etc.)  
✅ `products` - 50+ FMCG products with realistic pricing  
✅ `customers` - Philippine demographics  
✅ `stores` - 20 stores across regions  
✅ `transactions` - 1,000+ realistic transactions  
✅ `transaction_items` - Line items with quantities  
✅ `substitutions` - Product substitution tracking  
✅ `devices` - Device monitoring  
✅ `device_health` - Real-time device metrics  
✅ `edge_logs` - System logs  
✅ `request_behaviors` - Customer interactions  
✅ `customer_requests` - Service requests  

### **Security & Analytics (5)**
✅ **Row-Level Security** - Multi-tenant with 5 roles  
✅ **Analytical Views** - Pre-built dashboard queries  
✅ **Materialized Views** - Performance optimization  
✅ **Audit Trails** - Complete change logging  
✅ **User Management** - Role-based permissions  

### **Sample Data**
✅ **1,000+ transactions** (₱4+ billion revenue)  
✅ **695 unique customers** across Philippine regions  
✅ **246 stores** in NCR, Central Luzon, Calabarzon, Visayas, Davao  
✅ **15 brands** (TBWA clients + competitors)  
✅ **50+ products** with realistic Philippine pricing  

## ✅ **VERIFICATION:**

After running the SQL, verify in Supabase:
1. **Tables**: Should see 12+ tables created
2. **Sample Data**: `SELECT COUNT(*) FROM transactions;` → Should return 50+
3. **Security**: RLS enabled on all tables
4. **Views**: `vw_transaction_trends`, `vw_product_mix`, etc.

## 🎯 **RESULT:**

**Your Scout Analytics Dashboard will have live data immediately:**
- Transaction trends with time-based analysis
- Product performance with profitability metrics  
- Consumer behavior patterns and substitution analysis
- Customer profiling with RFM segmentation
- Multi-tenant security with audit trails

---

## 🚀 **DEPLOYMENT TIMELINE:**

- [x] ✅ **Repository**: https://github.com/jgtolentino/scout-analytics-dashboard
- [ ] 🗄️ **Database Setup** (2 minutes) ← **YOU ARE HERE**
- [ ] ⚙️ **Vercel Environment Variables** (1 minute)
- [ ] 🎉 **Live Dashboard** (automatic)

**Go to Supabase SQL Editor now and paste the `manual_db_setup.sql` contents!**

**Direct link**: https://supabase.com/project/jrxepdlkgdwwjxdeetmb/sql